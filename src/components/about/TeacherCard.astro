---
// src/components/about/TeacherCard.astro
import { Card } from "@/components/ui/card";
import { Mail, Facebook } from "lucide-react";

interface Teacher {
  id: number;
  name: string;
  slug: string;
  imageUrl: string;
  position: string;
  description: string;
  socialMedia: string | null;
  email: string | null;
}

interface Props {
  teacher: Teacher;
}

const { teacher } = Astro.props;
---

<Card className="group relative overflow-hidden border shadow-sm hover:shadow-lg transition-all duration-300 h-[500px] cursor-pointer">
  <a
    href={`/about/teachers/${teacher.slug}`}
    class="absolute inset-0 z-10"
    aria-label={`View details for ${teacher.name}`}
  ></a>

  <!-- Image Section -->
  <div class="absolute top-0 left-0 right-0 h-[60%] overflow-hidden bg-muted">
    <img
      src={teacher.imageUrl}
      alt={teacher.name}
      class="w-full h-full object-cover"
    />
  </div>

  <!-- Content Section -->
  <div class="absolute bottom-0 left-0 right-0 h-[40%] p-5 bg-card flex flex-col">
    <h3 class="font-bold text-lg mb-1 line-clamp-1 text-foreground group-hover:text-primary transition-colors">
      {teacher.name}
    </h3>

    <p class="text-sm text-muted-foreground font-medium mb-3">
      {teacher.position}
    </p>

    <p class="text-sm text-muted-foreground mb-4 flex-grow line-clamp-2">
      {teacher.description}
    </p>

    <!-- Social Icons -->
    <div class="flex items-center gap-3 pt-3 border-t mt-auto">
      {teacher.email && (
        <a
          href={`mailto:${teacher.email}`}
          class="text-muted-foreground hover:text-primary transition-colors relative z-30"
          aria-label="Email"
          onclick="event.stopPropagation()"
        >
          <Mail className="w-5 h-5" />
        </a>
      )}

      {teacher.socialMedia && (
        <a
          href={teacher.socialMedia}
          target="_blank"
          rel="noopener noreferrer"
          class="text-muted-foreground hover:text-primary transition-colors relative z-30"
          aria-label="Facebook"
          onclick="event.stopPropagation()"
        >
          <Facebook className="w-5 h-5" />
        </a>
      )}
    </div>
  </div>
</Card>

